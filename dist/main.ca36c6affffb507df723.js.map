{"version":3,"sources":["webpack:///./src/index.js","webpack:///./src/styles.css","webpack:///./src/api/userApi.js","webpack:///./src/api/baseUrl.js"],"names":["then","userBody","console","log","result","forEach","user","id","firstName","lastName","email","window","document","querySelector","innerHTML","deleteLinks","Array","from","querySelectorAll","link","addEventListener","event","preventDefault","element","target","attributes","value","row","parentNode","removeChild","getUsers","deleteUser","baseUrl","get","del","url","request","Request","method","fetch","onSuccess","onError","response","json","err","getBaseUrl","getQueryStringParameterByName","name","location","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;AAGA;;AAEA,0BAAWA,IAAX,CAAgB,kBAAU;AACzB,MAAIC,WAAW,EAAf;AACAC,UAAQC,GAAR,CAAYC,MAAZ;;AAEAA,SAAOC,OAAP,CAAe,gBAAQ;AACtBJ,uDAC2BK,KAAKC,EADhC,sDAEMD,KAAKC,EAFX,uBAGMD,KAAKE,SAHX,uBAIMF,KAAKG,QAJX,uBAKMH,KAAKI,KALX;AAOA,GARD;;AAUAC,SAAOC,QAAP,CAAgBC,aAAhB,CAA8B,QAA9B,EAAwCC,SAAxC,GAAoDb,QAApD;;AAEA,MAAMc,cAAcC,MAAMC,IAAN,CAAYL,SAASM,gBAAT,CAA0B,aAA1B,CAAZ,CAApB;AACAhB,UAAQC,GAAR,CAAYY,WAAZ;;AAEAA,cAAYV,OAAZ,CAAoB,gBAAQ;AAC3Bc,QAAKC,gBAAL,CAAsB,OAAtB,EAA+B,iBAAS;AACvCC,UAAMC,cAAN;;AAEA,QAAMC,UAAUF,MAAMG,MAAtB;AACAtB,YAAQC,GAAR,CAAYoB,OAAZ;AACA,6BAAWA,QAAQE,UAAR,CAAmB,SAAnB,EAA8BC,KAAzC;AACA,QAAMC,MAAMJ,QAAQK,UAAR,CAAmBA,UAA/B;AACA1B,YAAQC,GAAR,CAAYwB,GAAZ;AACAA,QAAIC,UAAJ,CAAeC,WAAf,CAA2BF,GAA3B;AAEA,IAVD;AAWA,GAZD;AAcA,EAjCD,E;;;;;;ACPA,0C;;;;;;;;;;;;SCKgBG,Q,GAAAA,Q;SAIAC,U,GAAAA,U;;AAThB;;AACA;;;;;;AAEA,KAAMC,UAAU,wBAAhB;;AAEO,UAASF,QAAT,GAAoB;AAC1B,SAAOG,IAAI,OAAJ,CAAP;AACA;;AAEM,UAASF,UAAT,CAAoBxB,EAApB,EAAwB;AAC9B,SAAO2B,eAAa3B,EAAb,CAAP;AACA;;AAED,UAAS2B,GAAT,CAAaC,GAAb,EAAkB;AACjB,MAAMC,UAAU,IAAIC,OAAJ,CAAYL,UAAUG,GAAtB,EAA2B;AAC1CG,WAAQ;AADkC,GAA3B,CAAhB;;AAIA,SAAOC,MAAMH,OAAN,EAAepC,IAAf,CAAoBwC,SAApB,EAA+BC,OAA/B,CAAP;AAEA;;AAED,UAASR,GAAT,CAAaE,GAAb,EAAkB;AACjB,SAAOI,MAAMP,UAAUG,GAAhB,EAAqBnC,IAArB,CAA0BwC,SAA1B,EAAqCC,OAArC,CAAP;AACA;;AAGD,UAASD,SAAT,CAAmBE,QAAnB,EAA6B;AAC5B,SAAOA,SAASC,IAAT,EAAP;AACA;;AAED,UAASF,OAAT,CAAiBG,GAAjB,EAAsB;AACrB1C,UAAQC,GAAR,CAAYyC,GAAZ,EADqB,CACJ;AACjB,E;;;;;;;;;;;;mBCjCuBC,U;AAAT,UAASA,UAAT,GAAsB;AACpC,SAAOC,8BAA8B,YAA9B,IAA8C,wBAA9C,GAAyE,GAAhF;AACA;;AAED,UAASA,6BAAT,CAAuCC,IAAvC,EAA6CZ,GAA7C,EAAkD;AACjD,MAAI,CAACA,GAAL,EAAUA,MAAMxB,OAAOqC,QAAP,CAAgBC,IAAtB;AACVF,SAAOA,KAAKG,OAAL,CAAa,SAAb,EAAwB,MAAxB,CAAP;AACA,MAAIC,QAAQ,IAAIC,MAAJ,CAAW,SAASL,IAAT,GAAgB,mBAA3B,CAAZ;AAAA,MACEM,UAAUF,MAAMG,IAAN,CAAWnB,GAAX,CADZ;AAEA,MAAI,CAACkB,OAAL,EAAc,OAAO,IAAP;AACd,MAAI,CAACA,QAAQ,CAAR,CAAL,EAAiB,OAAO,EAAP;AACjB,SAAOE,mBAAmBF,QAAQ,CAAR,EAAWH,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAnB,CAAP;AACC,E","file":"main.ca36c6affffb507df723.js","sourcesContent":["import './styles.css';\nimport {getUsers, deleteUser} from './api/userApi';\n// import {deleteUser} from './api/userApi'\n\n\n/* eslint-disable no-console */\n\ngetUsers().then(result => {\n\tlet userBody = '';\n\tconsole.log(result)\n\n\tresult.forEach(user => {\n\t\tuserBody += `<tr>\n\t\t<td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Delete</a></td>\n\t\t<td>${user.id}</td>\n\t\t<td>${user.firstName}</td>\n\t\t<td>${user.lastName}</td>\n\t\t<td>${user.email}</td>\n\t\t</tr>`\n\t});\n\n\twindow.document.querySelector('#users').innerHTML = userBody;\n\n\tconst deleteLinks = Array.from (document.querySelectorAll('.deleteUser'));\n\tconsole.log(deleteLinks)\n\n\tdeleteLinks.forEach(link => {\n\t\tlink.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\n\t\t\tconst element = event.target;\n\t\t\tconsole.log(element)\n\t\t\tdeleteUser(element.attributes['data-id'].value);\n\t\t\tconst row = element.parentNode.parentNode;\n\t\t\tconsole.log(row);\n\t\t\trow.parentNode.removeChild(row);\n\n\t\t})\n\t})\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/styles.css\n ** module id = 1\n ** module chunks = 0\n **/","import 'whatwg-fetch';\nimport getBaseUrl from './baseUrl';\n\nconst baseUrl = getBaseUrl();\n\nexport function getUsers() {\n\treturn get('users');\n}\n\nexport function deleteUser(id) {\n\treturn del(`users/${id}`);\n}\n\nfunction del(url) {\n\tconst request = new Request(baseUrl + url, {\n\t\tmethod: 'DELETE'\n\t});\n\n\treturn fetch(request).then(onSuccess, onError);\n\n}\n\nfunction get(url) {\n\treturn fetch(baseUrl + url).then(onSuccess, onError);\n}\n\n\nfunction onSuccess(response) {\n\treturn response.json();\n}\n\nfunction onError(err) {\n\tconsole.log(err) // eslint-disable-line no-console\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/userApi.js\n **/","export default function getBaseUrl() {\n\treturn getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : '/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n\tif (!url) url = window.location.href;\n\tname = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n\tvar regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n\t\t\tresults = regex.exec(url);\n\tif (!results) return null;\n\tif (!results[2]) return '';\n\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/baseUrl.js\n **/"],"sourceRoot":""}